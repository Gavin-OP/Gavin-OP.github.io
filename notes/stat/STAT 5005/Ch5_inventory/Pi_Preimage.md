# Proof of Preimage of $\pi$-system is still a $\pi$-system

- Suppose probability space $(\Omega,\mathcal F,P)$ and $X:(\Omega,\mathcal F)\to (B,\mathcal B)$ is a random variable, where $\mathcal B$ is Borel $\sigma$-field (random variable is defined to map $\Omega$ to Borel $\sigma$-field). Then below collection of event is a $\pi$-system.
  $$
  \mathcal P=\{X^{-1}(B):B\in\mathcal B\}
  $$
  

  Proof:

  - We first show $X^{-1}(A\cap B)=X^{-1}(A)\cap X^{-1}(B)$ 
    - Note that we also impose $A,B\in\mathcal B$, so $X^{-1}(A),\; X^{-1}(B)\in\mathcal P$ by definition of $\mathcal P$
    -  Also, $A,B\in\mathcal B$ implies $A\cap B\in\mathcal B$. So if above equality holds, then we know intersection of two events in $\mathcal P$ is also in $\mathcal P$, thus $\pi$-system
  - $X^{-1}(A\cap B)\subset X^{-1}(A)\cap X^{-1}(B)$ :
    - Take any $\omega\in X^{-1}(A\cap B)$, and by definition of preimage $X^{-1}$, we know $X(\omega)\in A\cap B$, which further implies both $X(\omega)\in A,X(\omega)\in B$
    - Then it is obvious that both $\omega\in X^{-1}(A),\;\omega\in X^{-1}(B)$, which means $\omega\in X^{-1}(A)\cap X^{-1}(B)$ for any $\omega\in A\cap B$. So $X^{-1}\subset X^{-1}(A)\cap X^{-1}(B)$ holds
  - $X^{-1}(A)\cap X^{-1}(B)\subset X^{-1}(A\cap B)$: 
    - Take any $\omega\in X^{-1}(A)\cap X^{-1}(B)$, then both $\omega\in X^{-1}(A),\;\omega\in X^{-1}(B)$, so by definition of preimage $X^{-1}$, we know $X(\omega)\in A\cap B$, which further implies both $X(\omega)\in A,X(\omega)\in B$
    - Then it is obvious that both $X(\omega)\in A\cap B$, which means $\omega\in X^{-1}(A\cap B)$ for any $\omega\in X^{-1}(A)\cap X^{-1}(B)$. So $X^{-1}(A)\cap X^{-1}(B)\subset X^{-1}(A\cap B)$ holds
  - In fact, this [site](https://math.stackexchange.com/questions/651076/sigma-algebra-generated-by-pi-system) also tell us $\mathcal P$ is also $\sigma$-field generated by $\Omega$

- For two dimensional random variable $(Y,Z):(\Omega^2,\mathcal F^2)\to (B,\mathcal B^2)$, the collection of its preimage is also $\pi$-system:
  $$
  \mathcal P=\{(\;Y^{-1}(B_1),Z^{-1}(B_2)\;)\;:\; (B_1,B_2)\in\mathcal B^2 \}
  $$
  Proof:

  - Consider two events $U,V\in\mathcal P$:
    $$
    U=(Y^{-1}(B_1),Z^{-1}(B_2))\quad\mathrm{and}\quad V=(Y^{-1}(C_1),Z^{-1}(C_2))\\
    (B_1,B_2)\in\mathcal B^2,\quad (C_1,C_2)\in\mathcal B^2
    $$

  - Then the intersection:
    $$
    U\cap V=(Y^{-1}(B_1)\cap Y^{-1}(C_1),\;Z^{-1}(B_2)\cap Z^{-1}(C_2))\\
    \quad\quad\quad\quad\quad\;=(Y^{-1}(B_1\cap C_1),\;Z^{-1}(B_2\cap C_2))\quad(\text{by 1-dim case})
    $$

  - Since $(B_1\cap C_1,\; B_2\cap C_2)\in\mathcal B^2$, so $U\cap V\in\mathcal P$ too by definition of $\mathcal P$. Thus $\mathcal P$ is a $\pi$-system