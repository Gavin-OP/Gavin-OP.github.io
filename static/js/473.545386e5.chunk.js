"use strict";(self.webpackChunkmy_web=self.webpackChunkmy_web||[]).push([[473],{4181:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(2791),s=r(9128),o=r(184);const i=e=>{let{explorerData:t,currentPath:r,onFileClick:a,onFolderClick:l}=e;const[c,h]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{t&&r.startsWith(t.path)&&h(!0)}),[r,t]),!t)return null;const d={fontWeight:t.path===r?"bold":"normal"};return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"file-explorer-item "+(t.isFolder?"folder":"file"),onClick:e=>{e.stopPropagation(),t.isFolder?(h(!c),l&&l(t.path)):a&&a(t.path)},style:d,children:(0,o.jsxs)("span",{className:"file-explorer-icon-label",style:d,children:[t.isFolder?(0,o.jsx)(o.Fragment,{children:c?(0,o.jsx)(s.qhg,{}):(0,o.jsx)(s.UKx,{})}):(0,o.jsx)(s.wfv,{}),(0,o.jsx)("label",{children:t.name})]})}),t.isFolder&&c&&(0,o.jsx)("div",{className:"file-explorer-children",id:"folderContainer",children:t.items.map(((e,n)=>(0,o.jsx)(i,{explorerData:{...e,path:`${t.path}/${e.name}`},currentPath:r,onFolderClick:l,onFileClick:a},n)))})]})},a=i},7630:(e,t,r)=>{r.d(t,{Z:()=>u});r(2791);var n=r(148),s=r(4787),o=r(9726),i=r(3265),a=r(4713),l=r(4131),c=r(4135),h=r(3672),d=(r(9043),r(184));const u=e=>{let{markdownContent:t}=e;const r=(0,n.TH)();return(0,d.jsx)("div",{className:"markdown-container",children:(0,d.jsx)("div",{id:"write",children:(0,d.jsx)(s.U,{className:"markdown-body",remarkPlugins:[o.Z,l.Z],rehypePlugins:[i.Z,a.Z],components:{pre(e){var t;let{node:r,className:n,children:s,...o}=e;const i=r.children[0],a=/language-(\w+)/.exec((null===i||void 0===i||null===(t=i.properties)||void 0===t?void 0:t.className)||"");return a?(0,d.jsx)(c.Z,{style:h.Z,language:a[1],PreTag:"pre",...o,children:String(i.children[0].value).replace(/\n$/,"")}):(0,d.jsx)("pre",{className:"md-fences",...o,children:s})},a(e){let{node:t,...n}=e;if(n.href&&(n.href.startsWith("#user-content-fn-")||n.href.startsWith("#user-content-fnref-"))){const e=`${window.location.origin}${r.pathname}${r.hash}`;return(0,d.jsx)("a",{...n,href:`${e}${n.href}`,onClick:e=>{e.preventDefault(),(e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})})(n.href.substring(1))},children:0===n.children.length?"Link":n.children})}return(0,d.jsx)("a",{...n,children:0===n.children.length?"Link":n.children})},img(e){let{node:t,...r}=e;if(r.src&&!r.src.startsWith("http")){const e=((e,t)=>{const r=e.split("/"),n=t.split("/");r.pop();for(let s=0;s<n.length;s++)"."!==n[s]&&(".."===n[s]?r.pop():r.push(n[s]));return r.join("/")})(window.location.hash.replace("#/",""),r.src);return console.log(e),(0,d.jsx)("img",{...r,src:e})}return(0,d.jsx)("img",{...r})},span(e){let{node:t,...r}=e;return r.className&&r.className.includes("katex-display")?(0,d.jsx)("span",{...r,style:{...r.style,overflowX:"auto"},children:r.children}):(0,d.jsx)("span",{...r,children:r.children})}},children:t})})})}},1827:(e,t,r)=>{r.d(t,{_:()=>i});var n=r(2791),s=r(6176),o=r(4226);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"disclaimer";const[t,r]=(0,n.useState)({fileTree:null,currentContent:null,currentPath:e,isLoading:!0,error:null}),i=(0,n.useMemo)((()=>new o.c(s.f.owner,s.f.repo,s.f.branch,s.f.basePath,{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GITHUB_TOKEN)),[]);(0,n.useEffect)((()=>{(async()=>{try{const e=await i.getAllNotes();r((t=>({...t,fileTree:e,isLoading:!1})))}catch(e){r((e=>({...e,error:"Failed to load file structure",isLoading:!1})))}})()}),[]),(0,n.useEffect)((()=>{(async()=>{if(t.currentPath){r((e=>({...e,isLoading:!0})));try{const e=await i.getFileContent(t.currentPath);r((t=>({...t,currentContent:e,isLoading:!1})))}catch(e){r((e=>({...e,error:"Failed to load file content",isLoading:!1})))}}})()}),[t.currentPath]);return{...t,setCurrentPath:e=>{r((t=>({...t,currentPath:e})))}}}},3473:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(2791),s=r(4226),o=r(6176),i=r(7630),a=r(4181),l=r(1827),c=r(184);const h=()=>{const[e,t]=n.useState({treeData:null,fileContent:null,currentPath:null,error:null}),{fileTree:r,currentContent:h,isLoading:d,error:u,setCurrentPath:f}=(0,l._)();return n.useEffect((()=>{(async()=>{const e=new s.c(o.f.owner,o.f.repo,o.f.branch,o.f.basePath,{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GITHUB_TOKEN);try{const r=await e.getAllNotes();console.log("Test File Tree:",r);const n="notes/csci/code-block-test.md",s=await e.getFileContent(n);f(n),t((e=>({...e,treeData:r,fileContent:s,currentPath:n,error:null})))}catch(r){console.error("GitHub Service Test Error:",r),t((e=>({...e,error:r.message})))}})()}),[]),console.log("debugInfo.currentPath:",e.currentPath),(0,c.jsx)("div",{style:{padding:"20px",backgroundColor:"#f5f5f5"},children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{style:{textAlign:"center"},children:"Test Page"}),(0,c.jsx)("h4",{children:"File Explorer:"}),(0,c.jsx)(a.Z,{explorerData:r,currentPath:e.currentPath}),(0,c.jsx)("h4",{children:"File Content:"}),(0,c.jsx)(i.Z,{markdownContent:h}),(0,c.jsx)("h4",{children:"File Tree Sample:"}),(0,c.jsx)("div",{style:{maxHeight:"300px",overflow:"auto"},children:(0,c.jsx)("pre",{children:e.treeData?JSON.stringify(e.treeData.items.slice(0,3),null,2):"Loading..."})})]})})}},4226:(e,t,r)=>{r.d(t,{c:()=>o});var n=r(9705),s=r(6176);class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.f.owner,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.f.repo,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.f.branch,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.f.basePath,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GITHUB_TOKEN;this.owner=e,this.repo=t,this.branch=r,this.base_path=o,this.octokit=new n.v({auth:i})}transformGitHubTree(e){const t={name:"notes",path:this.base_path,items:[],isFolder:!0},r={"":t};return e.forEach((e=>{if(!e.path.startsWith(this.base_path))return;const t=e.path.replace(this.base_path,"").split("/");let n="";t.forEach(((s,o)=>{const i=o===t.length-1,a=n;if(n=n?`${n}/${s}`:s,!r[n]){const t={name:s,path:`${this.base_path}${n}`,isFolder:!i||"tree"===e.type,items:[]};r[n]=t,r[a].items.push(t)}}))})),t}async getAllNotes(){try{const e=await this.octokit.request("GET /repos/{owner}/{repo}/git/trees/{branch}?recursive=1",{owner:this.owner,repo:this.repo,branch:this.branch,recursive:!0});return console.log("fetching file tree"),this.transformGitHubTree(e.data.tree)}catch(e){return console.error("Error fetching notes:",e),[]}}async isValidPath(e){try{const t=await fetch(`${e}`);return!(await t.text()).includes("<!DOCTYPE html>")}catch(t){return console.error("Error validating path:",t),!1}}async getFileContent(e){const t=await this.isValidPath(e)?e:"notes/disclaimer.md";try{const e=await fetch(`${t}`);if(!e.ok)throw new Error(`Error fetching file: ${e.statusText}`);return await e.text()}catch(r){return console.error("Error fetching file from public folder:",r),null}}}},6176:(e,t,r)=>{r.d(t,{f:()=>n});const n={owner:"Gavin-OP",repo:"Gavin-OP.github.io",branch:"gh-pages",basePath:"notes"}}}]);
//# sourceMappingURL=473.545386e5.chunk.js.map